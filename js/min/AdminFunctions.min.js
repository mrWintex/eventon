function Search(e){var a=GetCurrentTable(),t="SELECT "+GetTableItems()+" FROM "+a[0]+" WHERE "+a[1]+" like '"+$(e).val()+"'";console.log(t);var n="./php/admin_manager.php?search_query="+t+"&data_index="+GetTableDataIndex();SendToServer(n,function(e){$(".database-data").html(e),InitializeDataInputs()})}function Delete(e){var a=confirm("Opravdu chcete vymazat data?");if(a){var t=GetCurrentTable(),n=$(e).parents("tr").attr("id"),r="DELETE FROM "+t[0]+" WHERE "+t[1]+" = '"+n+"'",d="SELECT "+GetTableItems()+" FROM "+t[0]+" WHERE "+t[1]+" ='"+n+"'";console.log(d);var i="./php/admin_manager.php?delete_query="+r+"&item_query="+d+"&data_index="+GetTableDataIndex();SendToServer(i,function(e){ReloadTableBody(),console.log(e)})}}function InitializeDataInputs(){$(".datachange-input").on("focusin",function(){$(this).data("val",$(this).val())}).on("change",function(){if(confirm("Chcete pÅ™epsat tato data?")){var e=GetCurrentTable(),a="UPDATE "+e[0]+" SET "+$(this).attr("name")+" = '"+$(this).val()+"' WHERE "+e[1]+" = '"+$(this).parents("tr").attr("id")+"'",t="./php/admin_manager.php?change_query="+a;SendToServer(t,e=>{})}else $(this).val($(this).data("val"))})}function ChangeTableData(e,a){$(".data-table").attr("id",e),$(".admin-nav-link").removeClass("active"),$(a).addClass("active"),ReloadTable()}function GetCurrentTable(){return tables[GetTableDataIndex()]}function GetTableDataIndex(){return $(".data-table").attr("id")}function GetTableItems(){var e="";return table_items[GetTableDataIndex()].forEach(a=>{e+=a+", "}),e.substring(0,e.length-2)}function ReloadTable(){ReloadTableHeader(),ReloadTableBody()}function ReloadTableHeader(){var e=GetCurrentTable(),a="SELECT "+GetTableItems()+" FROM "+e[0]+";",t="./php/admin_manager.php?header_query="+a+"&data_index="+GetTableDataIndex();SendToServer(t,function(e){$(".table-header").html(e)})}function ReloadTableBody(){var e=GetCurrentTable(),a="SELECT "+GetTableItems()+" FROM "+e[0]+";",t="./php/admin_manager.php?body_query="+a+"&data_index="+GetTableDataIndex();SendToServer(t,function(e){$(".database-data").html(e),InitializeDataInputs()})}function SendToServer(e,a){$.ajax({type:"GET",url:e,success:function(e){a(e)}})}$(function(){ReloadTable()});var tables=[["users","id_u","username"],["posts","id_p","src"],["tags","id_t","name"]],table_items=[["id_u","username","email","reg_date","admin"],["id_p","src","comment","add_date","user_owner"],["id_t","name"]];